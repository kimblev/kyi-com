uuid: 343ef2a4-ee2a-477b-b8b3-7ab0f5c99c8c
langcode: en
status: true
dependencies: {  }
id: upgrade_commerce1_payment
class: Drupal\migrate\Plugin\Migration
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - 'Drupal 7'
  - Commerce
  - Content
migration_group: migrate_drupal_7
label: 'Commerce payment'
source:
  plugin: commerce1_payment_transaction
  constants:
    type: payment_manual
process:
  payment_id:
    -
      plugin: get
      source: receipt_id
  payment_gateway:
    -
      plugin: migration_lookup
      migration: upgrade_commerce1_payment_gateway
      source: payment_method
    -
      plugin: skip_on_empty
      method: row
  type:
    -
      plugin: get
      source: constants/type
  order_id:
    -
      plugin: migration_lookup
      migration: upgrade_commerce1_order
      source: order_id
    -
      plugin: skip_on_empty
      method: row
  amount/number:
    -
      plugin: get
      source: amount
  amount/currency_code:
    -
      plugin: get
      source: currency_code
  refunded_amount/number:
    -
      plugin: get
      source: refund_amount
  refunded_amount/currency_code:
    -
      plugin: get
      source: currency_code
  state:
    -
      plugin: get
      source: status
  completed:
    -
      plugin: get
      source: received
  field_metatag:
    -
      plugin: d7_metatag_entities
      source: pseudo_metatag_entities
destination:
  plugin: 'entity:commerce_payment'
  destination_module: commerce_payment
migration_dependencies:
  required:
    - upgrade_commerce1_order
    - upgrade_commerce1_payment_gateway
  optional:
    - upgrade_d7_metatag_field
    - upgrade_d7_metatag_field_instance
    - upgrade_commerce1_payment_gateway
    - upgrade_commerce1_order
